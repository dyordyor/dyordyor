import{j as e,r as o,c as m}from"../../../assets/client-b1f131cf.js";import{a as x,c as h,b as u,g as f,f as p}from"../../../assets/utils-a773364c.js";function j({author:s}){return e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"font-bold",children:s.name}),s.verified&&e.jsx("svg",{viewBox:"0 0 22 22",className:"ml-2 h-4 w-4",fill:"#1d9bf0",children:e.jsx("g",{children:e.jsx("path",{d:"M20.396 11c-.018-.646-.215-1.275-.57-1.816-.354-.54-.852-.972-1.438-1.246.223-.607.27-1.264.14-1.897-.131-.634-.437-1.218-.882-1.687-.47-.445-1.053-.75-1.687-.882-.633-.13-1.29-.083-1.897.14-.273-.587-.704-1.086-1.245-1.44S11.647 1.62 11 1.604c-.646.017-1.273.213-1.813.568s-.969.854-1.24 1.44c-.608-.223-1.267-.272-1.902-.14-.635.13-1.22.436-1.69.882-.445.47-.749 1.055-.878 1.688-.13.633-.08 1.29.144 1.896-.587.274-1.087.705-1.443 1.245-.356.54-.555 1.17-.574 1.817.02.647.218 1.276.574 1.817.356.54.856.972 1.443 1.245-.224.606-.274 1.263-.144 1.896.13.634.433 1.218.877 1.688.47.443 1.054.747 1.687.878.633.132 1.29.084 1.897-.136.274.586.705 1.084 1.246 1.439.54.354 1.17.551 1.816.569.647-.016 1.276-.213 1.817-.567s.972-.854 1.245-1.44c.604.239 1.266.296 1.903.164.636-.132 1.22-.447 1.68-.907.46-.46.776-1.044.908-1.681s.075-1.299-.165-1.903c.586-.274 1.084-.705 1.439-1.246.354-.54.551-1.17.569-1.816zM9.662 14.85l-3.429-3.428 1.293-1.302 2.072 2.072 4.4-4.794 1.347 1.246z"})})})]})}function g({isOpen:s,onChange:n}){return e.jsx("div",{className:"ml-auto cursor-pointer",onClick:t=>{t.stopPropagation(),t.preventDefault(),n(!s)},children:s?e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#1d9bf0",className:"p-2 w-8 h-8 rounded hover:bg-blue-50 select-none",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 8.25l-7.5 7.5-7.5-7.5"})}):e.jsx("svg",{fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"#1d9bf0",className:"p-2 w-8 h-8 rounded hover:bg-blue-50 select-none",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"})})})}function v({tweet:s}){const[n,t]=o.useState(!1);return e.jsxs("div",{className:"pb-4 flex space-x-4 items-start overflow-x-hidden cursor-pointer",onClick:()=>chrome.tabs.create({url:s.url}),children:[e.jsx("img",{src:s.author.avatar,alt:s.author.name,className:"h-10 w-10 rounded-full"}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(j,{author:s.author}),e.jsx(g,{isOpen:n,onChange:t})]}),e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:`text-sm text-gray-700 text-left ${n?"":"line-clamp-2"}`,children:s.text}),e.jsx("span",{className:"ml-4 text-gray-500 whitespace-nowrap",children:x(s.created_at)})]}),s.opinions.length>0&&e.jsxs("div",{className:"flex mt-2",children:[e.jsx("div",{className:"flex -space-x-1 overflow-hidden",children:s.opinions.map(a=>e.jsx("img",{className:"inline-block h-4 w-4 rounded-full ring-2 ring-white",src:a,alt:""}))}),e.jsxs("div",{className:"ml-2 text-gray-500 text-xs",children:[s.opinions.length," opinions"]})]}),e.jsxs("div",{className:"mt-3 flex gap-2 relative",children:[e.jsx("div",{className:"absolute -left-4 h-full w-[1px] bg-gray-100"}),e.jsx("img",{className:"w-20 aspect-video rounded-sm ",src:s.attachment.preview}),e.jsxs("div",{className:"",children:[e.jsx("div",{className:"w-full font-semibold line-clamp-2 leading-tight",children:s.attachment.title}),e.jsx("div",{className:"mt-1 text-xs text-gray-400",children:h(s.attachment.url)})]})]})]})]})}const N=174,b=12,w=600;function T(s){document.documentElement.style.maxHeight=Math.min((N+b*2)*s,w)+"px"}function k(){const[s,n]=o.useState([]);return o.useEffect(()=>{u.tabs.query({active:!0,currentWindow:!0}).then(function(t){const a=t[0].url;if(a){const l=f(a);p(l).then(i=>{if(i.length>0){const r=i.slice();r.sort((c,d)=>d.created_at.getTime()-c.created_at.getTime()),T(r.length),n(r)}})}})},[]),e.jsx("div",{className:"p-3",children:e.jsx("div",{className:"space-y-4",children:s.map((t,a)=>e.jsx(v,{tweet:t},a))})})}function E(){return e.jsx("div",{className:"absolute top-0 left-0 right-0 bottom-0 h-full",children:e.jsx(k,{})})}function _(){const s=document.querySelector("#__root");if(!s)throw new Error("Can't find Popup root element");m(s).render(e.jsx(E,{}))}_();
